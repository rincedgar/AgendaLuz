select count(ta.id_agenda)
from tipo_agenda ta
join agenda a on a.id_agenda=ta.id_agenda
where ta.id_dependencia='1' AND ta.id_tipo_consejo='2' AND EXTRACT(YEAR FROM a.fecha) = '2012'

select tc.siglas, count(ta.id_agenda), EXTRACT(YEAR FROM a.fecha)as fecha
from tipo_agenda ta
join agenda a on a.id_agenda=ta.id_agenda
join tipo_consejo tc on tc.id_tipo_consejo=ta.id_tipo_consejo
where ta.id_dependencia='1' AND ta.id_tipo_consejo='2' AND EXTRACT(YEAR FROM a.fecha) = '2012'
group by tc.siglas,a.fecha

/****Busca el consecutivo segun el tipo consejo y la dependencia entre fechas*****/
select count(a.id_agenda)as consecutivo
from tipo_agenda ta
join agenda a on a.id_agenda=ta.id_agenda
join tipo_consejo tc on tc.id_tipo_consejo=ta.id_tipo_consejo
where a.fecha between '2012-01-01' AND '2012-08-26' AND ta.id_tipo_consejo='1' AND ta.id_dependencia='1'

/****Busca las agendas del usuario, *****/
select a.id_agenda, a.fecha, tc.descripcion,tc.siglas, EXTRACT(YEAR FROM a.fecha) as anio
from participantes p
join agenda a on a.id_agenda=p.id_agenda 
join tipo_agenda ta on ta.id_agenda=a.id_agenda
join tipo_consejo tc on tc.id_tipo_consejo=ta.id_tipo_consejo
where a.fecha >=current_date AND p.id_consejero='1'
group by a.id_agenda, a.fecha,  tc.descripcion, tc.siglas